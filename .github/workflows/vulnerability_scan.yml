name: Vulnerability Scan

on:
  schedule:
    - cron: '0 2 * * *'
  push:
    branches:
      - master
  pull_request:
    types: [ opened, synchronize, edited ]

jobs:
    trigger-vulnerability-scan:
        name: Vulnerability scan at ${{ github.ref }}
        uses: ./.github/workflows/vulnerability_scan_subworkflow.yml
        with:
            ref: ${{ github.ref }}
        secrets:
            SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
            