name: Check base images

on:
  workflow_dispatch:
    inputs:
      MINIMAL_SUPPORTED_VERSION:
        description: 'Minimal supported version from which we should start checking images, e.g. 5.1, 5.0.1, 4.2.3. Default derived from supported maintenance versions'
        required: false
  schedule:
    - cron: '0 6 * * *'

jobs:
  get-latest-patch-versions:
    runs-on: ubuntu-latest
    steps:
      - run: exit 1

  failure-notifications:
    runs-on: ubuntu-latest
    name: Failure notification
    if: failure()
    needs:
      - get-latest-patch-versions
    steps:
      - run: echo ${{ job.status }}
      - name: Slack notification
        uses: hazelcast/docker-actions/slack-notification@fix-slack
        with:
          slack-webhook-url: ${{ secrets.SLACK_WEBHOOK }}
          status: failure
